(this["webpackJsonphog-gui"]=this["webpackJsonphog-gui"]||[]).push([[0],{53:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),s=n(19),i=n.n(s),j=(n(53),n(12)),o=n(37),l=n(6),u=(n(54),n(46)),b=n(39),h=n(29),O=n(20),x=n.n(O),d=n(47),g=n(23),f=n(13),p=n(11),m=n(8),v=n(9),y=n(1),C=v.a.div(r||(r=Object(m.a)(["\n  font-size: 1.25rem;\n  width: 100%;\n  text-align: center;\n  margin: 20px;\n"])));function k(e){var t=e.numRolls;return Object(y.jsxs)(C,{children:[Object(y.jsxs)("p",{children:["It is the ",Object(y.jsx)("b",{children:"COMPUTER\u2018s"})," turn."]}),Object(y.jsxs)("p",{children:["The computer rolls ",t," dice."]})]})}var w=v.a.div(c||(c=Object(m.a)(["\n  margin-top: 15px;\n"])));function R(e){var t=e.gameRules,n=e.onGameRulesChange;return Object(y.jsxs)(w,{children:[Object(y.jsx)("h5",{children:"Enable game rules:"}),Object.entries(t).map((function(e){var t=Object(l.a)(e,2),r=t[0],c=t[1];return Object(y.jsx)(h.a.Check,{custom:!0,inline:!0,type:"switch",id:"rule-checkbox-".concat(r),checked:c,label:r,onChange:function(){return n(r,!c)}},r)}))]})}var S,P=n(25),I=n(34),E=v.a.div(S||(S=Object(m.a)(["\n  margin-top: 15px;\n"])));function _(e){var t=e.strategy,n=e.onStrategyChange,r="Pick a strategy",c=t||r,s=Object(a.useState)(c),i=Object(l.a)(s,2),j=i[0],o=i[1];return Object(y.jsxs)(E,{children:[Object(y.jsx)("h5",{children:"Play against the computer:"}),Object(y.jsxs)(I.a,{className:"mb-3",children:[Object(y.jsx)(I.a.Prepend,{children:Object(y.jsx)(I.a.Checkbox,{"aria-label":"Checkbox for following text input",checked:!!t,onChange:function(e){e.target.checked?n(j):n(null)}})}),Object(y.jsxs)(P.a,{as:"select",onChange:function(e){o(e.target.value),n(e.target.value)},value:j,children:[Object(y.jsx)("option",{disabled:!0,hidden:!0,children:r}),Object(y.jsx)("option",{children:"hefty_hogs_strategy"}),Object(y.jsx)("option",{children:"hog_pile_strategy"}),Object(y.jsx)("option",{children:"final_strategy"})]})]})]})}var G,N,H=n(48);function M(e){var t=e.messages;return t?t.map((function(e,t){return Object(y.jsx)(H.a,{variant:"dark",children:e},t)})):null}var T=v.a.div(G||(G=Object(m.a)(["\n  text-align: center;\n  width: 100%;\n"]))),z=v.a.img(N||(N=Object(m.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 10px;\n"])));function A(e){var t=e.rolls.map((function(e,t){return Object(y.jsx)(z,{src:"/dice_graphic.svg?num="+e},t)}));return Object(y.jsx)(T,{children:t})}function L(){return D.apply(this,arguments)}function D(){return(D=Object(g.a)(x.a.mark((function e(){var t,n,r,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"manual",body:JSON.stringify(n)});case 4:if(200===(r=e.sent).status){e.next=7;break}throw new Error("Error ".concat(r.status,"."));case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F,J,U,B,V=n(28),Y=["ZERO","ONE"],W=["#28a745","#17a2b8"],Z=["white","white"],q=v.a.div(F||(F=Object(m.a)(["\n  font-size: 1.25rem;\n  width: 100%;\n  text-align: center;\n  margin-top: 20px;\n"])));function K(e){var t=e.playerIndex,n=e.heftyHogs,r=e.onClick,c=n?0:1,s=Object(a.useState)(c),i=Object(l.a)(s,2),j=i[0],o=i[1];return Object(y.jsxs)(q,{children:[Object(y.jsxs)("p",{children:["It is Player"," ",Object(y.jsxs)("b",{children:[Y[t],"\u2018s"]})," ","turn."]}),Object(y.jsxs)("p",{children:["Roll"," ",Object(y.jsx)("input",{type:"number",min:c,max:10,value:j,onChange:function(e){var t=Math.max(Math.min(10,e.target.value),c);o(e.target.value&&t)}})," ","Dice.",Object(y.jsxs)(V.a,{variant:"info",size:"lg",style:{marginLeft:"10px"},onClick:function(){r(j)},children:[" ","Roll!"]})]}),Object(y.jsx)("p",{})]})}function Q(e){return new Promise((function(t){return setTimeout(t,e)}))}function X(e){var t=e.numRolls,n=function(){return Array(t).fill().map((function(){return Math.floor(6*Math.random())+1}))},r=Object(a.useState)(n),c=Object(l.a)(r,2),s=c[0],i=c[1];return function(e,t){var n=Object(a.useRef)(e);n.current=e,Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){i(n)}),200),Object(y.jsx)(A,{rolls:s})}var $,ee=v.a.div(J||(J=Object(m.a)(["\n  width: 150px;\n  border: solid black 2px;\n  font-weight: bold;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n"]))),te=v.a.div(U||(U=Object(m.a)(["\n  width: 100%;\n  height: 130px;\n  line-height: 130px;\n  font-size: 48pt;\n  background: ",";\n"])),(function(e){return e.isCurrent?"white":"transparent"})),ne=v.a.div(B||(B=Object(m.a)(["\n  width: 100%;\n  line-height: 30px;\n  background: ",";\n  color: white;\n"])),(function(e){return e.isCurrent?"#17a2b8":"grey"}));function re(e){var t=e.score,n=e.playerIndex,r=e.currentPlayer===n;return Object(y.jsxs)(ee,{children:[Object(y.jsx)(te,{isCurrent:r,children:t}),Object(y.jsxs)(ne,{isCurrent:r,children:[r?"\u279c ":"","Player ",Y[n]]})]})}var ce,ae,se=v.a.div($||($=Object(m.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"])));function ie(e){var t=e.scores,n=e.currentPlayer;return Object(y.jsx)(se,{children:t.map((function(e,t){return Object(y.jsx)(re,{score:e,playerIndex:t,currentPlayer:n},t)}))})}function je(e){var t=e.onClick;return Object(y.jsx)(V.a,{variant:"secondary",onClick:t,children:"New Game"})}var oe=v.a.div(ce||(ce=Object(m.a)(["\n  text-align: center;\n  margin-top: 30px;\n  font-weight: bold;\n  font-size: 24px;\n  width: 100%;\n  color: ",";\n  background: ",";\n  padding: 5px;\n"])),(function(e){return e.color}),(function(e){return e.bgColor})),le=v.a.div(ae||(ae=Object(m.a)(["\n  font-size: 1.25rem;\n  width: 100%;\n  text-align: center;\n  margin: 20px;\n"])));function ue(e){var t=e.winner,n=e.onRestart,r=e.onStrategyChange;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{children:Object(y.jsxs)(oe,{color:Z[t],bgColor:W[t],children:["Player ",Y[t]," has won! Congratulations!"]})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(le,{children:Object(y.jsx)(je,{onClick:n})})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(_,{strategy:null,onStrategyChange:r})})})]})}var be="WAITING_FOR_INPUT",he="DISPLAYING_COMPUTER_MOVE",Oe="ROLLING_DICE",xe="DISPLAYING_CHANGE",de="GAME_OVER",ge=100;function fe(e){var t,n=e.onRestart,r=e.strategy,c=e.onStrategyChange,s=e.gameRules,i=e.onGameRulesChange,o=Object(a.useState)(be),u=Object(l.a)(o,2),b=u[0],h=u[1],O=Object(a.useState)([]),m=Object(l.a)(O,2),v=m[0],C=m[1],w=Object(a.useState)(0),S=Object(l.a)(w,2),P=S[0],I=S[1],E=Object(a.useState)([0,0]),G=Object(l.a)(E,2),N=G[0],H=G[1],T=Object(a.useState)(0),z=Object(l.a)(T,2),D=z[0],F=z[1],J=Object(a.useState)([]),U=Object(l.a)(J,2),B=U[0],V=U[1],Y=Object(a.useRef)([]),W=Object(a.useRef)([]),Z=function(){var e=Object(g.a)(x.a.mark((function e(t){var n,c,a,i,j,o,u,b,O,g=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>1&&void 0!==g[1]?g[1]:P,h(Oe),F(t),Y.current.push(t),e.next=6,Promise.all([L("/take_turn",{prevRolls:W.current,moveHistory:Y.current,goal:ge,gameRules:s})].concat([t&&Q(1e3)]));case 6:if(n=e.sent,c=Object(l.a)(n,1),a=c[0],i=a.message,j=a.rolls,o=a.finalScores,u=a.who,C(j.slice(W.current.length)),H(o),h(xe),b=[],i&&b.push(i),V(b),W.current=j,e.t0=r,!e.t0){e.next=24;break}return e.next=24,Q(2500);case 24:if(I(u),!(Math.max.apply(Math,Object(d.a)(o))>=ge)){e.next=29;break}h(de),e.next=41;break;case 29:if(1!==u||!r){e.next=40;break}return e.next=32,L("/strategy",{name:r,scores:N});case 32:return O=e.sent,F(O),h(he),e.next=37,Q(2500);case 37:return e.abrupt("return",Z(O,u));case 40:h(be);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=(t={},Object(j.a)(t,be,Object(y.jsx)(A,{rolls:v})),Object(j.a)(t,Oe,Object(y.jsx)(X,{numRolls:D})),Object(j.a)(t,xe,Object(y.jsx)(A,{rolls:v})),Object(j.a)(t,de,null),Object(j.a)(t,he,Object(y.jsx)(k,{numRolls:D})),t)[b];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(ie,{scores:N,currentPlayer:P})})}),b!==he&&Object(y.jsx)(p.a,{children:Object(y.jsx)(K,{playerIndex:P,heftyHogs:s["Hefty Hogs"],onClick:Z})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:q})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(M,{messages:B})})}),b===de&&Object(y.jsx)(ue,{winner:N[0]>N[1]?0:1,onRestart:n,onStrategyChange:c}),b===be&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(R,{gameRules:s,onGameRulesChange:i})})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(_,{strategy:r,onStrategyChange:c})})})]})]})}n(62);function pe(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),i=s[0],O=s[1],x=Object(a.useState)({"Hefty Hogs":!1,"Hog Pile":!1}),d=Object(l.a)(x,2),g=d[0],f=d[1],p=function(){r((function(e){return e+1}))};return Object(y.jsxs)(u.a,{children:[Object(y.jsxs)(b.a,{bg:"dark",variant:"dark",className:"justify-content-between hognav",children:[Object(y.jsxs)(b.a.Brand,{children:["The Game of ",Object(y.jsx)("strong",{children:"Hog"})]}),Object(y.jsx)(h.a,{inline:!0,children:Object(y.jsx)(je,{onClick:p})})]}),Object(y.jsx)(fe,{style:{paddingTop:"10px"},strategy:i,onStrategyChange:function(e){O(e),p()},gameRules:g,onGameRulesChange:function(e,t){f(Object(o.a)(Object(o.a)({},g),{},Object(j.a)({},e,t))),p()},onRestart:p},n)]})}i.a.render(Object(y.jsx)(pe,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.b24b023f.chunk.js.map